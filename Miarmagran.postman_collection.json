{
	"info": {
		"_postman_id": "e782b7c3-f14d-4b12-ac55-8c60ce70d206",
		"name": "RealEstateV2",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Users",
			"item": [
				{
					"name": "Login",
					"item": [
						{
							"name": "01 - Login Propietario",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonDataPropietario = JSON.parse(responseBody);\r",
											"pm.collectionVariables.set(\"tokenPropietario\", jsonDataPropietario.token);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"email\": \"propietariogmail.com\",\r\n    \"password\": \"1234\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "http://localhost:8080/auth/login",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "8080",
									"path": [
										"auth",
										"login"
									]
								}
							},
							"response": []
						},
						{
							"name": "02 - Login Admin",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonDataAdmin = JSON.parse(responseBody);\r",
											"pm.collectionVariables.set(\"tokenAdmin\", jsonDataAdmin.token);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"email\": \"admin@admin.com\",\r\n    \"password\": \"admin\"\r\n}\r\n",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "http://localhost:8080/auth/login",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "8080",
									"path": [
										"auth",
										"login"
									]
								}
							},
							"response": []
						},
						{
							"name": "03 - Login Gestor",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonDataGestor = JSON.parse(responseBody);\r",
											"pm.collectionVariables.set(\"tokenGestor\", jsonDataGestor.token);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"email\": \"gestor@gestor.com\",\r\n    \"password\": \"gestor\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "http://localhost:8080/auth/login",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "8080",
									"path": [
										"auth",
										"login"
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "01 - Nuevo Propietario",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"email\": \"propietario4gmail.com\",\r\n    \"full_name\": \"Alejandro Bajo\",\r\n    \"avatar\": \"https://cdn.pixabay.com/photo/2018/08/28/12/41/avatar-3637425_960_720.png\",\r\n    \"password\": \"1234\",\r\n    \"password2\": \"1234\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:8080/auth/register/PROPIETARIO",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"auth",
								"register",
								"PROPIETARIO"
							]
						}
					},
					"response": []
				},
				{
					"name": "02 - Nuevo Gestor",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenAdmin}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"email\": \"gestor4@gestor.com\",\r\n    \"full_name\": \"Cynthia Labrador\",\r\n    \"avatar\": \"https://www.soycarmin.com/__export/1591241280785/sites/debate/img/2020/06/03/avatar_3_crop1591241236156.jpg_423682103.jpg\",\r\n    \"password\": \"gestor\",\r\n    \"password2\": \"gestor\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:8080/auth/register/GESTOR",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"auth",
								"register",
								"GESTOR"
							]
						}
					},
					"response": []
				},
				{
					"name": "03 - Nuevo Admin",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenAdmin}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"email\": \"admin3@admin.com\",\r\n    \"full_name\": \"Admin\",\r\n    \"avatar\": \"https://www.soycarmin.com/__export/1591241280785/sites/debate/img/2020/06/03/avatar_3_crop1591241236156.jpg_423682103.jpg\",\r\n    \"password\": \"admin\",\r\n    \"password2\": \"admin\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:8080/auth/register/ADMIN",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"auth",
								"register",
								"ADMIN"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Propietarios",
			"item": [
				{
					"name": "01 - Listar Propietarios",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonDataPropietarios = JSON.parse(responseBody);\r",
									"pm.collectionVariables.set(\"propietarioId\", jsonDataPropietarios[0].id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/propietario/",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"propietario",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "02 - Buscar Propietario",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenAdmin}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/propietario/{{propietarioId}}",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"propietario",
								"{{propietarioId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "03 - Borrar Propietario",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenAdmin}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/propietario/{{propietarioId}}",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"propietario",
								"{{propietarioId}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Viviendas",
			"item": [
				{
					"name": "01 - Crear Vivienda",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenPropietario}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"titulo\": \"Dreamsville\",\r\n    \"precio\": 1000000,\r\n    \"tipo\": \"COMPRA\",\r\n    \"descripcion\": \"Una vivienda para Luismi\",\r\n    \"direccion\":\"Calle de Prueba\",\r\n    \"poblacion\": \"Murcia\",\r\n    \"codigoPostal\": 48245,\r\n    \"provincia\": \"Murcia\",\r\n    \"metrosCuadrados\": 200,\r\n    \"numHabitaciones\": 4,\r\n    \"numBanyos\": 3,\r\n    \"avatar\": \"https://images.adsttc.com/media/images/5f51/a5d9/b357/65fa/5600/025b/newsletter/Ozkiniai_eksterjeras_132.jpg?1599186382\",\r\n    \"latlng\": \"43.3057431 , -1.9802013\",\r\n    \"tienePiscina\": true,\r\n    \"tieneAscensor\": false,\r\n    \"tieneGaraje\": true\r\n    }",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:8080/vivienda/",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"vivienda",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "02 - Listar Viviendas",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/vivienda/",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"vivienda",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "03 - Buscar Vivienda",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/vivienda/1",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"vivienda",
								"1"
							]
						}
					},
					"response": []
				},
				{
					"name": "04 - Editar Vivienda",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenPropietario}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"titulo\": \"Casa luminosa\",\r\n    \"precio\": 38500,\r\n    \"tipo\": \"COMPRA\",\r\n    \"descripcion\": \"Una vivienda muy luminosa en Sevilla\",\r\n    \"direccion\":\"Plaza de San Lorenzo\",\r\n    \"poblacion\": \"Sevilla\",\r\n    \"codigoPostal\": 41004,\r\n    \"provincia\": \"Sevilla\",\r\n    \"metrosCuadrados\": 100,\r\n    \"numHabitaciones\": 3,\r\n    \"numBanyos\": 2,\r\n    \"avatar\": \"https://images.adsttc.com/media/images/5f51/a5d9/b357/65fa/5600/025b/newsletter/Ozkiniai_eksterjeras_132.jpg?1599186382\",\r\n    \"latlng\": \"43.3057431 , -1.9802013\",\r\n    \"tienePiscina\": false,\r\n    \"tieneAscensor\": true,\r\n    \"tieneGaraje\": true\r\n    }",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:8080/vivienda/1",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"vivienda",
								"1"
							]
						}
					},
					"response": []
				},
				{
					"name": "05 - Borrar Vivienda",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenPropietario}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/vivienda/1",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"vivienda",
								"1"
							]
						}
					},
					"response": []
				},
				{
					"name": "06 - Asignar Inmobiliaria a Vivienda",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenPropietario}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/vivienda/4/inmobiliaria/2",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"vivienda",
								"4",
								"inmobiliaria",
								"2"
							]
						}
					},
					"response": []
				},
				{
					"name": "07 - Eliminar Inmobiliaria de Vivienda",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenPropietario}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/vivienda/1/inmobiliaria/",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"vivienda",
								"1",
								"inmobiliaria",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "08 - Top N Viviendas por Intereses",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/vivienda/top?n=10",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"vivienda",
								"top"
							],
							"query": [
								{
									"key": "n",
									"value": "10"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Inmobiliarias",
			"item": [
				{
					"name": "01 - Crear Inmobiliaria",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenAdmin}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"nombre\": \"Grupo Torres\",\r\n    \"email\": \"grupo-torres@gmail.com\",\r\n    \"telefono\": \"617349695\",\r\n    \"avatar\": \"https://cdn3.f-cdn.com/contestentries/1338230/28609665/5b1031f3713a7_thumb900.jpg\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:8080/inmobiliaria/",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"inmobiliaria",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "02 - Añadir Gestor",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenAdmin}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"email\": \"gestorTecno@tecnocasa.com\",\r\n    \"full_name\": \"Alfonso Gallardo\",\r\n    \"avatar\": \"https://cdn.pixabay.com/photo/2018/08/28/12/41/avatar-3637425_960_720.png\",\r\n    \"password\": \"gestor\",\r\n    \"password2\": \"gestor\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:8080/inmobiliaria/1/gestor",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"inmobiliaria",
								"1",
								"gestor"
							]
						}
					},
					"response": []
				},
				{
					"name": "03 - Eliminar Gestor",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenGestor}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/inmobiliaria/gestor/c0a80163-7d57-15c3-817d-57a74f4d0000",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"inmobiliaria",
								"gestor",
								"c0a80163-7d57-15c3-817d-57a74f4d0000"
							]
						}
					},
					"response": []
				},
				{
					"name": "04 - Mostrar Gestores de Inmobiliaria",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenGestor}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/inmobiliaria/gestores",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"inmobiliaria",
								"gestores"
							]
						}
					},
					"response": []
				},
				{
					"name": "05 - Listar Inmobiliarias",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonDataInmobiliarias = JSON.parse(responseBody);\r",
									"pm.collectionVariables.set(\"inmobiliariaId\", jsonDataInmobiliarias[0].id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/inmobiliaria/",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"inmobiliaria",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "06 - Buscar Inmobiliaria",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/inmobiliaria/{{inmobiliariaId}}",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"inmobiliaria",
								"{{inmobiliariaId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "07 - Eliminar Inmobiliaria",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenAdmin}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/inmobiliaria/1",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"inmobiliaria",
								"1"
							]
						}
					},
					"response": []
				},
				{
					"name": "08 - Gestores",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/inmobiliaria/1/gestores",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"inmobiliaria",
								"1",
								"gestores"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Intereses",
			"item": [
				{
					"name": "01 - Dar Me Interesa",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenPropietario}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"mensaje\": \"Me interesa mucho esta vivienda\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:8080/vivienda/1/meinteresa",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"vivienda",
								"1",
								"meinteresa"
							]
						}
					},
					"response": []
				},
				{
					"name": "02 - Quitar Me Interesa",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenPropietario}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/vivienda/1/meinteresa",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"vivienda",
								"1",
								"meinteresa"
							]
						}
					},
					"response": []
				},
				{
					"name": "03 - Listar Interesados",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenAdmin}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/interesado/",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"interesado",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "04 - Buscar Interesado",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{tokenAdmin}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/interesado/1",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"interesado",
								"1"
							]
						}
					},
					"response": []
				}
			]
		}
	],
	"variable": [
		{
			"key": "tokenAdmin",
			"value": ""
		},
		{
			"key": "tokenPropietario",
			"value": ""
		},
		{
			"key": "tokenGestor",
			"value": ""
		},
		{
			"key": "propietarioId",
			"value": ""
		},
		{
			"key": "inmobiliariaId",
			"value": ""
		}
	]
}